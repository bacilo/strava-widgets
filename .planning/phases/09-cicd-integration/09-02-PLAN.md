---
phase: 09-cicd-integration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
autonomous: true

must_haves:
  truths:
    - "Documentation explains how to embed each of the 5 widgets via Custom Elements"
    - "Documentation lists all CLI commands (auth, sync, status, compute-stats, compute-advanced-stats, compute-geo-stats, compute-all-stats, build-widgets)"
    - "Documentation includes Strava API attribution requirements"
    - "Documentation explains common widget attributes (data-url, data-title, data-theme, etc.)"
  artifacts:
    - path: "README.md"
      provides: "Comprehensive project documentation"
      min_lines: 100
  key_links:
    - from: "README.md"
      to: "dist/widgets/index.html"
      via: "cross-reference link"
      pattern: "github\\.io/strava-widgets"
---

<objective>
Create comprehensive README.md documentation covering widget embed examples, CLI reference, setup guide, and Strava attribution requirements.

Purpose: Provide the primary documentation for the project that GitHub repo visitors see first. Covers everything needed to understand, set up, and use the widget library.
Output: README.md at project root.
</objective>

<execution_context>
@/Users/pedf/.claude/get-shit-done/workflows/execute-plan.md
@/Users/pedf/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-cicd-integration/09-RESEARCH.md
@package.json
@src/index.ts
@dist/widgets/test.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create comprehensive README.md with widget docs, CLI reference, and attribution</name>
  <files>README.md</files>
  <action>
Create README.md at project root with the following sections. Use clear, concise technical writing. Do NOT use emojis in headings or body text.

**Structure:**

```
# Strava Analytics Widgets

[1-2 sentence description: embeddable widgets for visualizing Strava running data on personal websites]

## Features

Bullet list of 5 widget types with brief descriptions:
- Stats card: all-time totals, year-over-year comparisons
- Comparison chart: seasonal trends, time period comparisons with Chart.js
- Streak widget: consecutive run days, time-of-day patterns, monthly heatmap
- Geographic statistics: country/city rankings with CSV export
- Geographic table: sortable, paginated tables for detailed geographic data

## Quick Start

Show minimal embed example for stats-card widget (the simplest one).
Use bacilo.github.io/strava-widgets as the base URL.
Custom Elements syntax only (no .init() API).

## Widgets

### Stats Card
- Tag: `<strava-stats-card>`
- Required: data-url (all-time-totals.json)
- Optional: data-secondary-url (year-over-year.json), data-title, data-show-yoy
- Full embed example with script tag

### Comparison Chart
- Tag: `<strava-comparison-chart>`
- Required: data-url (year-over-year.json)
- Optional: data-secondary-url (seasonal-trends.json), data-title, data-chart-colors, data-show-legend
- Full embed example

### Streak Widget
- Tag: `<strava-streak-widget>`
- Required: data-url (streaks.json)
- Optional: data-url-secondary (time-of-day.json), data-title, data-show-chart
- Full embed example

### Geographic Statistics
- Tag: `<strava-geo-stats>`
- Required: data-url (countries.json)
- Optional: data-url-secondary (cities.json), data-url-metadata (geo-metadata.json), data-title, data-show-export, data-max-rows
- Full embed example

### Geographic Table
- Tag: `<strava-geo-table>`
- Required: data-url (countries.json or cities.json)
- Optional: data-dataset ("countries" or "cities"), data-title, data-rows-per-page, data-default-sort, data-default-sort-direction
- Full embed example

## Common Attributes

Table of attributes inherited from WidgetBase that ALL widgets support:
| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| data-url | string | (required) | URL to primary data JSON |
| data-url-secondary | string | - | URL to secondary data JSON |
| data-title | string | - | Custom widget title |
| data-show-title | boolean | true | Show/hide title |
| data-theme | "light"/"dark" | auto | Color theme |
| data-width | string | "100%" | Widget width |
| data-max-width | string | - | Maximum width |
| data-padding | string | - | Custom padding |
| data-bg | string | - | Background color |
| data-text-color | string | - | Text color |
| data-accent | string | - | Accent color |

## CLI Commands

Table listing all available npm scripts:
| Command | Description |
|---------|-------------|
| npm run auth | Authenticate with Strava OAuth |
| npm run sync | Fetch new activities from Strava |
| npm start status | Show sync status |
| npm run compute-stats | Compute basic statistics |
| npm run compute-advanced-stats | Compute advanced statistics |
| npm run compute-geo-stats | Compute geographic statistics from GPS data |
| npm run compute-all-stats | Compute all statistics (basic + advanced + geo) |
| npm run build-widgets | Build all widget IIFE bundles |
| npm test | Run test suite |

## Setup

Brief setup instructions:
1. Clone repo
2. npm install
3. Create .env with STRAVA_CLIENT_ID and STRAVA_CLIENT_SECRET
4. npm run auth (follow OAuth flow)
5. npm run sync
6. npm run compute-all-stats
7. npm run build-widgets
8. Open dist/widgets/test.html to preview

## CI/CD

Brief explanation of the automated pipeline:
- Daily GitHub Actions workflow at 5 AM UTC
- Fetches new activities, computes stats (including geographic), builds widgets
- Deploys to GitHub Pages at bacilo.github.io/strava-widgets
- Non-blocking geocoding (pipeline continues if geocoding fails)
- Link to live widget page and test page

## Data Attribution

**Strava Attribution (Required):**
- Include "Powered by Strava" with link to https://www.strava.com when displaying widgets
- Comply with Strava Brand Guidelines: https://developers.strava.com/guidelines/
- See Strava API Agreement: https://www.strava.com/legal/api

## Tech Stack

Brief list: TypeScript, Node.js 22, Chart.js, Vite (IIFE bundles), Shadow DOM, Web Components, GitHub Actions, GitHub Pages.

## License

MIT
```

Keep the README focused and practical. No fluff paragraphs. Code examples should be copy-pasteable.
Do NOT use emojis anywhere in the file.
  </action>
  <verify>
Read README.md and verify:
1. All 5 widgets documented with Custom Elements embed examples
2. Common attributes table present with all WidgetBase attributes
3. CLI commands table lists all npm scripts from package.json
4. Strava attribution section present with links to brand guidelines and API agreement
5. Setup instructions are complete (auth through build)
6. No emojis present
7. File is well-structured markdown with proper headings
  </verify>
  <done>
README.md exists at project root with comprehensive documentation covering all 5 widgets, CLI commands, common attributes, setup instructions, CI/CD explanation, and Strava data attribution requirements.
  </done>
</task>

</tasks>

<verification>
1. README.md exists at project root with >100 lines
2. All 5 widget types documented with embed examples using Custom Elements syntax
3. CLI commands table matches package.json scripts
4. Strava attribution section with links to brand guidelines and API agreement
5. Common attributes table covers all WidgetBase.observedAttributes
</verification>

<success_criteria>
- README.md is comprehensive, well-structured, and practical
- All 5 widgets have copy-pasteable embed examples
- CLI reference matches actual available commands
- Strava attribution requirements clearly stated
- No emojis in the document
</success_criteria>

<output>
After completion, create `.planning/phases/09-cicd-integration/09-02-SUMMARY.md`
</output>
